plugins {
    id 'java'
    // id 'io.qameta.allure' version '2.34.1'
}

java {
    sourceCompatibility = JavaVersion.VERSION_21 // Hoặc phiên bản Java bạn sử dụng
    targetCompatibility = JavaVersion.VERSION_21
}

repositories {
    mavenCentral() // Để tải các thư viện Selenium và TestNG
}

compileJava.options.encoding = 'UTF-8'
compileTestJava.options.encoding = 'UTF-8'

dependencies {
    implementation "org.seleniumhq.selenium:selenium-java:${seleniumVersion}"
    implementation "org.testng:testng:${testngVersion}"
    implementation "org.slf4j:slf4j-simple:${slf4jVersion}"
    implementation "commons-io:commons-io:${commonsIoVersion}"
    implementation "io.qameta.allure:allure-testng:${allureVersion}"
    implementation "io.qameta.allure:allure-attachments:${allureVersion}"
}

tasks.test {
    useTestNG(){
        suites('src/test/resources/testNG.xml')
        outputDirectory = file("$projectDir/test-output")
    }

    testLogging {
        showStandardStreams = true
    }
}
